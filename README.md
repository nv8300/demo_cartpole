# demo_cartpole
## 代码
### ENV
用warp_env替换原gym路径下的cartpole.py文件

### Train
1. 先用base_train进行meta-learning训练policyA、B和Meta（目前表现最好的modelA、B结果存在model_merge）
2. 可以固定表现较好的modelA、B用clip_train训练Meta（加入PPO clip过程）（结果存在model）

### Test
可以在第195行设置meta参数，检查modelA、B的表现

## 问题
### 表现
N条轨迹的全部状态中，有约80%的角速度状态为顺时针，约20%角速度为逆时针。
#### 反向模型的表现（model A）
1. 总动作准确率：47.4%（准确动作为：角速度为正、顺时针，动作为left，动作值为0；角速度为负、逆时针，动作为right，动作值为1）
2. 角速度逆时针，动作准确率：50%；顺时针准确率：38.7%

#### 同向模型的表现（model B）
1. 总动作准确率：85.2%（准确动作为：角速度为正、顺时针，动作为right，动作值为1；角速度为负、逆时针，动作为left，动作值为0）
2. 角速度逆时针，动作准确率：50%；顺时针准确率：99.0%

### 问题
反向模型难学，由于反向模型表现差，上层meta参数倾向于使用同向模型。
具体为：回合开始至结束，同向模型的权重从约0.5不断提升，反向从约0.5不断下降。

